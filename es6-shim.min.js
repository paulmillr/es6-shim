(function(e){"use strict";var t=function(e){try{e()}catch(t){return false}return true};var r=function(e,t){try{var r=function(){e.apply(this,arguments)};if(!r.__proto__){return false}Object.setPrototypeOf(r,e);r.prototype=Object.create(e.prototype,{constructor:{value:e}});return t(r)}catch(n){return false}};var n=function(){try{Object.defineProperty({},"x",{});return true}catch(e){return false}};var a=function(){var e=false;if(String.prototype.startsWith){try{"/a/".startsWith(/a/)}catch(t){e=true}}return e};var i=function(){var i=typeof window!=="undefined"?window:global;var o=i.isFinite;var u=!!Object.defineProperty&&n();var s=a();var f=Array.prototype.slice;var c=String.prototype.indexOf;var l=Object.prototype.toString;var h=Object.prototype.hasOwnProperty;var v;var p=function(e,t){Object.keys(t).forEach(function(r){var n=t[r];if(r in e)return;if(u){Object.defineProperty(e,r,{configurable:true,enumerable:false,writable:true,value:n})}else{e[r]=n}})};var y=Object.create||function(e,t){function r(){}r.prototype=e;var n=new r;if(typeof t!=="undefined")p(n,t);return n};var b=typeof Symbol==="object"&&Symbol.iterator||"_es6shim_iterator_";if(i.Set&&typeof(new i.Set)["@@iterator"]==="function"){b="@@iterator"}var g=function(e,t){if(!t){t=function n(){return this}}var r={};r[b]=t;p(e,r)};var m=function G(e){var t=l.call(e);var r=t==="[object Arguments]";if(!r){r=t!=="[object Array]"&&e!==null&&typeof e==="object"&&typeof e.length==="number"&&e.length>=0&&l.call(e.callee)==="[object Function]"}return r};var w=function(e){if(!d.TypeIsObject(e))throw new TypeError("bad object");if(!e._es6construct){if(e.constructor&&d.IsCallable(e.constructor["@@create"])){e=e.constructor["@@create"](e)}p(e,{_es6construct:true})}return e};var d={CheckObjectCoercible:function(e,t){if(e==null)throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return e!=null&&Object(e)===e},ToObject:function(e,t){return Object(d.CheckObjectCoercible(e,t))},IsCallable:function(e){return typeof e==="function"&&l.call(e)==="[object Function]"},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0},ToInteger:function(e){var t=+e;if(Number.isNaN(t))return 0;if(t===0||!Number.isFinite(t))return t;return Math.sign(t)*Math.floor(Math.abs(t))},ToLength:function(e){var t=d.ToInteger(e);if(t<=0)return 0;if(t>Number.MAX_SAFE_INTEGER)return Number.MAX_SAFE_INTEGER;return t},SameValue:function(e,t){if(e===t){if(e===0)return 1/e===1/t;return true}return Number.isNaN(e)&&Number.isNaN(t)},SameValueZero:function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)},IsIterable:function(t){return d.TypeIsObject(t)&&(t[b]!==e||m(t))},GetIterator:function(e){if(m(e)){return new v(e,"value")}var t=e[b]();if(!d.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!d.TypeIsObject(t)){throw new TypeError("bad iterator")}return t},Construct:function(e,t){var r;if(d.IsCallable(e["@@create"])){r=e["@@create"]()}else{r=y(e.prototype||null)}p(r,{_es6construct:true});var n=e.apply(r,t);return d.TypeIsObject(n)?n:r}};var j=function(){function e(e){var t=Math.floor(e),r=e-t;if(r<.5){return t}if(r>.5){return t+1}return t%2?t+1:t}function t(t,r,n){var a=(1<<r-1)-1,i,o,u,s,f,c,l,h;if(t!==t){o=(1<<r)-1;u=Math.pow(2,n-1);i=0}else if(t===Infinity||t===-Infinity){o=(1<<r)-1;u=0;i=t<0?1:0}else if(t===0){o=0;u=0;i=1/t===-Infinity?1:0}else{i=t<0;t=Math.abs(t);if(t>=Math.pow(2,1-a)){o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023);u=e(t/Math.pow(2,o)*Math.pow(2,n));if(u/Math.pow(2,n)>=2){o=o+1;u=1}if(o>a){o=(1<<r)-1;u=0}else{o=o+a;u=u-Math.pow(2,n)}}else{o=0;u=e(t/Math.pow(2,1-a-n))}}c=[];for(f=n;f;f-=1){c.push(u%2?1:0);u=Math.floor(u/2)}for(f=r;f;f-=1){c.push(o%2?1:0);o=Math.floor(o/2)}c.push(i?1:0);c.reverse();l=c.join("");h=[];while(l.length){h.push(parseInt(l.substring(0,8),2));l=l.substring(8)}return h}function r(e,t,r){var n=[],a,i,o,u,s,f,c,l;for(a=e.length;a;a-=1){o=e[a-1];for(i=8;i;i-=1){n.push(o%2?1:0);o=o>>1}}n.reverse();u=n.join("");s=(1<<t-1)-1;f=parseInt(u.substring(0,1),2)?-1:1;c=parseInt(u.substring(1,1+t),2);l=parseInt(u.substring(1+t),2);if(c===(1<<t)-1){return l!==0?NaN:f*Infinity}else if(c>0){return f*Math.pow(2,c-s)*(1+l/Math.pow(2,r))}else if(l!==0){return f*Math.pow(2,-(s-1))*(l/Math.pow(2,r))}else{return f<0?-0:0}}function n(e){return r(e,11,52)}function a(e){return t(e,11,52)}function i(e){return r(e,8,23)}function o(e){return t(e,8,23)}var u={toFloat32:function(e){return i(o(e))}};if(typeof Float32Array!=="undefined"){var s=new Float32Array(1);u.toFloat32=function(e){s[0]=e;return s[0]}}return u}();p(String,{fromCodePoint:function(){var e=f.call(arguments,0,arguments.length);var t=[];var r;for(var n=0,a=e.length;n<a;n++){r=Number(e[n]);if(!d.SameValue(r,d.ToInteger(r))||r<0||r>1114111){throw new RangeError("Invalid code point "+r)}if(r<65536){t.push(String.fromCharCode(r))}else{r-=65536;t.push(String.fromCharCode((r>>10)+55296));t.push(String.fromCharCode(r%1024+56320))}}return t.join("")},raw:function(t){var r=f.call(arguments,1,arguments.length);var n=d.ToObject(t,"bad callSite");var a=n.raw;var i=d.ToObject(a,"bad raw value");var o=Object.keys(i).length;var u=d.ToLength(o);if(u===0){return""}var s=[];var c=0;var l,h,v,p;while(c<u){l=String(c);h=i[l];v=String(h);s.push(v);if(c+1>=u){break}h=r[l];if(h===e){break}p=String(h);s.push(p);c++}return s.join("")}});var I={repeat:function(){var e=function(t,r){if(r<1)return"";if(r%2)return e(t,r-1)+t;var n=e(t,r/2);return n+n};return function(t){var r=String(d.CheckObjectCoercible(this));t=d.ToInteger(t);if(t<0||t===Infinity){throw new RangeError("Invalid String#repeat value")}return e(r,t)}}(),startsWith:function(t){var r=String(d.CheckObjectCoercible(this));if(l.call(t)==="[object RegExp]")throw new TypeError('Cannot call method "startsWith" with a regex');t=String(t);var n=arguments.length>1?arguments[1]:e;var a=Math.max(d.ToInteger(n),0);return r.slice(a,a+t.length)===t},endsWith:function(t){var r=String(d.CheckObjectCoercible(this));if(l.call(t)==="[object RegExp]")throw new TypeError('Cannot call method "endsWith" with a regex');t=String(t);var n=r.length;var a=arguments.length>1?arguments[1]:e;var i=a===e?n:d.ToInteger(a);var o=Math.min(Math.max(i,0),n);return r.slice(o-t.length,o)===t},contains:function(t){var r=arguments.length>1?arguments[1]:e;return c.call(this,t,r)!==-1},codePointAt:function(t){var r=String(d.CheckObjectCoercible(this));var n=d.ToInteger(t);var a=r.length;if(n<0||n>=a)return e;var i=r.charCodeAt(n);var o=n+1===a;if(i<55296||i>56319||o)return i;var u=r.charCodeAt(n+1);if(u<56320||u>57343)return i;return(i-55296)*1024+(u-56320)+65536}};p(String.prototype,I);var O="\x85".trim().length!==1;if(O){var _=String.prototype.trim;delete String.prototype.trim;var N=["	\n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003","\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028","\u2029\ufeff"].join("");var T=new RegExp("^["+N+"]["+N+"]*");var M=new RegExp("["+N+"]["+N+"]*$");p(String.prototype,{trim:function(){if(this===e||this===null){throw new TypeError("can't convert "+this+" to object")}return String(this).replace(T,"").replace(M,"")}})}var S=function(e){this._s=String(d.CheckObjectCoercible(e));this._i=0};S.prototype.next=function(){var t=this._s,r=this._i;if(t===e||r>=t.length){this._s=e;return{value:e,done:true}}var n=t.charCodeAt(r),a,i;if(n<55296||n>56319||r+1==t.length){i=1}else{a=t.charCodeAt(r+1);i=a<56320||a>57343?1:2}this._i=r+i;return{value:t.substr(r,i),done:false}};g(S.prototype);g(String.prototype,function(){return new S(this)});if(!s){String.prototype.startsWith=I.startsWith;String.prototype.endsWith=I.endsWith}p(Array,{from:function(t){var r=arguments.length>1?arguments[1]:e;var n=arguments.length>2?arguments[2]:e;var a=d.ToObject(t,"bad iterable");if(r!==e&&!d.IsCallable(r)){throw new TypeError("Array.from: when provided, the second argument must be a function")}var i=d.IsIterable(a);var o=i?0:d.ToLength(a.length);var u=d.IsCallable(this)?Object(i?new this:new this(o)):new Array(o);var s=i?d.GetIterator(a):null;var f;for(var c=0;i||c<o;c++){if(i){f=d.IteratorNext(s);if(f.done){o=c;break}f=f.value}else{f=a[c]}if(r!==e){u[c]=n?r.call(n,f):r(f)}else{u[c]=f}}u.length=o;return u},of:function(){return Array.from(arguments)}});v=function(e,t){this.i=0;this.array=e;this.kind=t};p(v.prototype,{next:function(){var t=this.i,r=this.array;if(t===e||this.kind===e){throw new TypeError("Not an ArrayIterator")}if(r!==e){var n=d.ToLength(r.length);for(;t<n;t++){var a=this.kind;var i;if(a==="key"){i=t}else if(a==="value"){i=r[t]}else if(a==="entry"){i=[t,r[t]]}this.i=t+1;return{value:i,done:false}}}this.array=e;return{value:e,done:true}}});g(v.prototype);p(Array.prototype,{copyWithin:function(t,r){var n=arguments[2];var a=d.ToObject(this);var i=d.ToLength(a.length);t=d.ToInteger(t);r=d.ToInteger(r);var o=t<0?Math.max(i+t,0):Math.min(t,i);var u=r<0?Math.max(i+r,0):Math.min(r,i);n=n===e?i:d.ToInteger(n);var s=n<0?Math.max(i+n,0):Math.min(n,i);var f=Math.min(s-u,i-o);var c=1;if(u<o&&o<u+f){c=-1;u+=f-1;o+=f-1}while(f>0){if(h.call(a,u)){a[o]=a[u]}else{delete a[u]}u+=c;o+=c;f-=1}return a},fill:function(t){var r=arguments[1],n=arguments[2];var a=d.ToObject(this);var i=d.ToLength(a.length);r=d.ToInteger(r===e?0:r);n=d.ToInteger(n===e?i:n);var o=r<0?Math.max(i+r,0):Math.min(r,i);for(var u=o;u<i&&u<n;++u){a[u]=t}return a},find:function(t){var r=d.ToObject(this);var n=d.ToLength(r.length);if(!d.IsCallable(t)){throw new TypeError("Array#find: predicate must be a function")}var a=arguments[1];for(var i=0,o;i<n;i++){if(i in r){o=r[i];if(t.call(a,o,i,r))return o}}return e},findIndex:function(e){var t=d.ToObject(this);var r=d.ToLength(t.length);if(!d.IsCallable(e)){throw new TypeError("Array#findIndex: predicate must be a function")}var n=arguments[1];for(var a=0;a<r;a++){if(a in t){if(e.call(n,t[a],a,t))return a}}return-1},keys:function(){return new v(this,"key")},values:function(){return new v(this,"value")},entries:function(){return new v(this,"entry")}});g(Array.prototype,function(){return this.values()});if(Object.getPrototypeOf){g(Object.getPrototypeOf([].values()))}var E=Math.pow(2,53)-1;p(Number,{MAX_SAFE_INTEGER:E,MIN_SAFE_INTEGER:-E,EPSILON:2.220446049250313e-16,parseInt:i.parseInt,parseFloat:i.parseFloat,isFinite:function(e){return typeof e==="number"&&o(e)},isInteger:function(e){return typeof e==="number"&&!Number.isNaN(e)&&Number.isFinite(e)&&d.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&Math.abs(e)<=Number.MAX_SAFE_INTEGER},isNaN:function(e){return e!==e}});if(u){p(Object,{getPropertyDescriptor:function(t,r){var n=Object.getOwnPropertyDescriptor(t,r);var a=Object.getPrototypeOf(t);while(n===e&&a!==null){n=Object.getOwnPropertyDescriptor(a,r);a=Object.getPrototypeOf(a)}return n},getPropertyNames:function(e){var t=Object.getOwnPropertyNames(e);var r=Object.getPrototypeOf(e);var n=function(e){if(t.indexOf(e)===-1){t.push(e)}};while(r!==null){Object.getOwnPropertyNames(r).forEach(n);r=Object.getPrototypeOf(r)}return t}});p(Object,{assign:function(e,t){if(!d.TypeIsObject(e)){throw new TypeError("target must be an object")}return Array.prototype.reduce.call(arguments,function(e,t){if(!d.TypeIsObject(t)){throw new TypeError("source must be an object")}return Object.keys(t).reduce(function(e,r){e[r]=t[r];return e},e)})},getOwnPropertyKeys:function(e){return Object.keys(e)},is:function(e,t){return d.SameValue(e,t)},setPrototypeOf:function(e,t){var r;var n=function(e,t){if(!d.TypeIsObject(e)){throw new TypeError("cannot set prototype on a non-object")}if(!(t===null||d.TypeIsObject(t))){throw new TypeError("can only set prototype to an object or null"+t)}};var a=function(e,t){n(e,t);r.call(e,t);return e};try{r=e.getOwnPropertyDescriptor(e.prototype,t).set;r.call({},null)}catch(i){if(e.prototype!=={}[t]){return}r=function(e){this[t]=e};a.polyfill=a(a({},null),e.prototype)instanceof e}return a}(Object,"__proto__")})}if(Object.setPrototypeOf&&Object.getPrototypeOf&&Object.getPrototypeOf(Object.setPrototypeOf({},null))!==null&&Object.getPrototypeOf(Object.create(null))===null){(function(){var e=Object.create(null);var t=Object.getPrototypeOf,r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=t(r);return n===e?null:n};Object.setPrototypeOf=function(t,n){if(n===null){n=e}return r(t,n)};Object.setPrototypeOf.polyfill=false})()}try{Object.keys("foo")}catch(x){var C=Object.keys;Object.keys=function(e){return C(d.ToObject(e))}}var k={acosh:function(e){e=Number(e);if(Number.isNaN(e)||e<1)return NaN;if(e===1)return 0;if(e===Infinity)return e;return Math.log(e+Math.sqrt(e*e-1))},asinh:function(e){e=Number(e);if(e===0||!o(e)){return e}return e<0?-Math.asinh(-e):Math.log(e+Math.sqrt(e*e+1))},atanh:function(e){e=Number(e);if(Number.isNaN(e)||e<-1||e>1){return NaN}if(e===-1)return-Infinity;if(e===1)return Infinity;if(e===0)return e;return.5*Math.log((1+e)/(1-e))},cbrt:function(e){e=Number(e);if(e===0)return e;var t=e<0,r;if(t)e=-e;r=Math.pow(e,1/3);return t?-r:r},clz32:function(e){e=Number(e);if(Number.isNaN(e))return NaN;var t=d.ToUint32(e);if(t===0){return 32}return 32-t.toString(2).length},cosh:function(e){e=Number(e);if(e===0)return 1;if(Number.isNaN(e))return NaN;if(!o(e))return Infinity;if(e<0)e=-e;if(e>21)return Math.exp(e)/2;return(Math.exp(e)+Math.exp(-e))/2},expm1:function(e){e=Number(e);if(e===-Infinity)return-1;if(!o(e)||e===0)return e;return Math.exp(e)-1},hypot:function(e,t){var r=false;var n=true;var a=false;var i=[];Array.prototype.every.call(arguments,function(e){var t=Number(e);if(Number.isNaN(t))r=true;else if(t===Infinity||t===-Infinity)a=true;else if(t!==0)n=false;if(a){return false}else if(!r){i.push(Math.abs(t))}return true});if(a)return Infinity;if(r)return NaN;if(n)return 0;i.sort(function(e,t){return t-e});var o=i[0];var u=i.map(function(e){return e/o});var s=u.reduce(function(e,t){return e+=t*t},0);return o*Math.sqrt(s)},log2:function(e){return Math.log(e)*Math.LOG2E},log10:function(e){return Math.log(e)*Math.LOG10E},log1p:function(e){e=Number(e);if(e<-1||Number.isNaN(e))return NaN;if(e===0||e===Infinity)return e;if(e===-1)return-Infinity;var t=0;var r=50;if(e<0||e>1)return Math.log(1+e);for(var n=1;n<r;n++){if(n%2===0){t-=Math.pow(e,n)/n}else{t+=Math.pow(e,n)/n}}return t},sign:function(e){var t=+e;if(t===0)return t;if(Number.isNaN(t))return t;return t<0?-1:1},sinh:function(e){e=Number(e);if(!o(e)||e===0)return e;return(Math.exp(e)-Math.exp(-e))/2},tanh:function(e){e=Number(e);if(Number.isNaN(e)||e===0)return e;if(e===Infinity)return 1;if(e===-Infinity)return-1;return(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))},trunc:function(e){var t=Number(e);return t<0?-Math.floor(-t):Math.floor(t)},imul:function(e,t){var r=e>>>16&65535;var n=e&65535;var a=t>>>16&65535;var i=t&65535;return n*i+(r*i+n*a<<16>>>0)|0},fround:function(e){if(e===0||e===Infinity||e===-Infinity||Number.isNaN(e)){return e}var t=Number(e);return j.toFloat32(t)}};p(Math,k);if(Math.imul(4294967295,5)!==-5){Math.imul=k.imul}var P=function(){var t,r;d.IsPromise=function(t){if(!d.TypeIsObject(t)){return false}if(!t._promiseConstructor){return false}return t._status!==e};var n=function(e){if(!d.IsCallable(e)){throw new TypeError("bad promise constructor")}var t=this;var r=function(e,r){t.resolve=e;t.reject=r};t.promise=d.Construct(e,[r]);if(!t.promise._es6construct){throw new TypeError("bad promise constructor")}if(!(d.IsCallable(t.resolve)&&d.IsCallable(t.reject))){throw new TypeError("bad promise constructor")}};var a=i.setTimeout;var o;if(typeof window!=="undefined"&&d.IsCallable(window.postMessage)){o=function(){var e=[];var t="zero-timeout-message";var r=function(r){e.push(r);window.postMessage(t,"*")};var n=function(r){if(r.source==window&&r.data==t){r.stopPropagation();if(e.length===0){return}var n=e.shift();n()}};window.addEventListener("message",n,true);return r}}var u=function(){var e=i.Promise;return e&&e.resolve&&function(t){return e.resolve().then(t)}};var s=d.IsCallable(i.setImmediate)?i.setImmediate.bind(i):typeof process==="object"&&process.nextTick?process.nextTick:u()||(d.IsCallable(o)?o():function(e){a(e,0)});var f=function(e,t){e.forEach(function(e){s(function(){var r=e.handler;var n=e.capability;var a=n.resolve;var i=n.reject;try{var o=r(t);if(o===n.promise){throw new TypeError("self resolution")}var u=c(o,n);if(!u){a(o)}}catch(s){i(s)}})})};var c=function(e,t){if(!d.TypeIsObject(e)){return false}var r=t.resolve;var n=t.reject;try{var a=e.then;if(!d.IsCallable(a)){return false}a.call(e,r,n)}catch(i){n(i)}return true};var l=function(e,t,r){return function(a){if(a===e){return r(new TypeError("self resolution"))}var i=e._promiseConstructor;var o=new n(i);var u=c(a,o);if(u){return o.promise.then(t,r)}else{return t(a)}}};t=function(t){var r=this;r=w(r);if(!r._promiseConstructor){throw new TypeError("bad promise")}if(r._status!==e){throw new TypeError("promise already initialized")}if(!d.IsCallable(t)){throw new TypeError("not a valid resolver")}r._status="unresolved";r._resolveReactions=[];r._rejectReactions=[];var n=function(t){if(r._status!=="unresolved"){return}var n=r._resolveReactions;r._result=t;r._resolveReactions=e;r._rejectReactions=e;r._status="has-resolution";f(n,t)};var a=function(t){if(r._status!=="unresolved"){return}var n=r._rejectReactions;r._result=t;r._resolveReactions=e;r._rejectReactions=e;r._status="has-rejection";f(n,t)};try{t(n,a)}catch(i){a(i)}return r};r=t.prototype;p(t,{"@@create":function(t){var n=this;var a=n.prototype||r;t=t||y(a);p(t,{_status:e,_result:e,_resolveReactions:e,_rejectReactions:e,_promiseConstructor:e});t._promiseConstructor=n;return t}});var h=function(e,t,r,n){var a=false;return function(i){if(a){return}a=true;t[e]=i;if(--n.count===0){var o=r.resolve;o(t)}}};t.all=function(e){var t=this;var r=new n(t);var a=r.resolve;var i=r.reject;try{if(!d.IsIterable(e)){throw new TypeError("bad iterable")}var o=d.GetIterator(e);var u=[],s={count:1};for(var f=0;;f++){var c=d.IteratorNext(o);if(c.done){break}var l=t.resolve(c.value);var v=h(f,u,r,s);s.count++;l.then(v,r.reject)}if(--s.count===0){a(u)}}catch(p){i(p)}return r.promise};t.race=function(e){var t=this;var r=new n(t);var a=r.resolve;var i=r.reject;try{if(!d.IsIterable(e)){throw new TypeError("bad iterable")}var o=d.GetIterator(e);while(true){var u=d.IteratorNext(o);if(u.done){break}var s=t.resolve(u.value);s.then(a,i)}}catch(f){i(f)}return r.promise};t.reject=function(e){var t=this;var r=new n(t);var a=r.reject;a(e);return r.promise};t.resolve=function(e){var t=this;if(d.IsPromise(e)){var r=e._promiseConstructor;if(r===t){return e}}var a=new n(t);var i=a.resolve;i(e);return a.promise};t.prototype["catch"]=function(t){return this.then(e,t)};t.prototype.then=function(e,t){var r=this;if(!d.IsPromise(r)){throw new TypeError("not a promise")}var a=this.constructor;var i=new n(a);if(!d.IsCallable(t)){t=function(e){throw e}}if(!d.IsCallable(e)){e=function(e){return e}}var o=l(r,e,t);var u={capability:i,handler:o};var s={capability:i,handler:t};switch(r._status){case"unresolved":r._resolveReactions.push(u);r._rejectReactions.push(s);break;case"has-resolution":f([u],r._result);break;case"has-rejection":f([s],r._result);break;default:throw new TypeError("unexpected")}return i.promise};return t}();p(i,{Promise:P});var A=function(){try{i.Promise.reject(42).then(null,5).then(null,function(){});return true}catch(e){return false}}();if(!A){var R=i.Promise.prototype.then;i.Promise.prototype.then=function(t,r){if(t&&!d.IsCallable(t)){t=e}if(r&&!d.IsCallable(r)){r=e}R.call(this,t,r)}}if(u){var F=function L(e){var t=typeof e;if(t==="string"){return"$"+e}else if(t==="number"){return e}return null};var z=function W(){return Object.create?Object.create(null):{}};var D={Map:function(){var t={};function r(e,t){this.key=e;this.value=t;this.next=null;this.prev=null}r.prototype.isRemoved=function(){return this.key===t};function n(e,t){this.head=e._head;this.i=this.head;this.kind=t}n.prototype={next:function(){var t=this.i,r=this.kind,n=this.head,a;if(this.i===e){return{value:e,done:true}}while(t.isRemoved()&&t!==n){t=t.prev}while(t.next!==n){t=t.next;if(!t.isRemoved()){if(r==="key"){a=t.key}else if(r==="value"){a=t.value}else{a=[t.key,t.value]}this.i=t;return{value:a,done:false}}}this.i=e;return{value:e,done:true}}};g(n.prototype);function a(){var t=this;t=w(t);if(!t._es6map){throw new TypeError("bad map")}var n=new r(null,null);n.next=n.prev=n;p(t,{_head:n,_storage:z(),_size:0});var a=arguments[0];if(a!==e&&a!==null){var i=d.GetIterator(a);var o=t.set;if(!d.IsCallable(o)){throw new TypeError("bad map")}while(true){var u=d.IteratorNext(i);if(u.done){break}var s=u.value;if(!d.TypeIsObject(s)){throw new TypeError("expected iterable of pairs")}o.call(t,s[0],s[1])}}return t}var i=a.prototype;p(a,{"@@create":function(e){var t=this;var r=t.prototype||i;e=e||y(r);p(e,{_es6map:true});return e}});Object.defineProperty(a.prototype,"size",{configurable:true,enumerable:false,get:function(){if(typeof this._size==="undefined"){throw new TypeError("size method called on incompatible Map")}return this._size}});p(a.prototype,{get:function(t){var r=F(t);if(r!==null){var n=this._storage[r];return n?n.value:e}var a=this._head,i=a;while((i=i.next)!==a){if(d.SameValueZero(i.key,t)){return i.value}}return e},has:function(e){var t=F(e);if(t!==null){return typeof this._storage[t]!=="undefined"}var r=this._head,n=r;while((n=n.next)!==r){if(d.SameValueZero(n.key,e)){return true}}return false},set:function(e,t){var n=this._head,a=n,i;var o=F(e);if(o!==null){if(typeof this._storage[o]!=="undefined"){this._storage[o].value=t;return}else{i=this._storage[o]=new r(e,t);a=n.prev}}while((a=a.next)!==n){if(d.SameValueZero(a.key,e)){a.value=t;return}}i=i||new r(e,t);if(d.SameValue(-0,e)){i.key=+0}i.next=this._head;i.prev=this._head.prev;i.prev.next=i;i.next.prev=i;this._size+=1},"delete":function(e){var r=this._head,n=r;var a=F(e);if(a!==null){if(typeof this._storage[a]==="undefined"){return false}n=this._storage[a].prev;delete this._storage[a]}while((n=n.next)!==r){if(d.SameValueZero(n.key,e)){n.key=n.value=t;n.prev.next=n.next;n.next.prev=n.prev;this._size-=1;return true}}return false},clear:function(){this._size=0;this._storage=z();var e=this._head,r=e,n=r.next;while((r=n)!==e){r.key=r.value=t;n=r.next;r.next=r.prev=e}e.next=e.prev=e},keys:function(){return new n(this,"key")},values:function(){return new n(this,"value")},entries:function(){return new n(this,"key+value")},forEach:function(e){var t=arguments.length>1?arguments[1]:null;var r=this.entries();for(var n=r.next();!n.done;n=r.next()){e.call(t,n.value[1],n.value[0],this)}}});g(a.prototype,function(){return this.entries()});return a}(),Set:function(){var t=function a(){var t=this;t=w(t);if(!t._es6set){throw new TypeError("bad set")}p(t,{"[[SetData]]":null,_storage:z()});var r=arguments[0];if(r!==e&&r!==null){var n=d.GetIterator(r);var a=t.add;if(!d.IsCallable(a)){throw new TypeError("bad set")}while(true){var i=d.IteratorNext(n);if(i.done){break}var o=i.value;a.call(t,o)}}return t};var r=t.prototype;p(t,{"@@create":function(e){var t=this;var n=t.prototype||r;e=e||y(n);p(e,{_es6set:true});return e}});var n=function i(e){if(!e["[[SetData]]"]){var t=e["[[SetData]]"]=new D.Map;Object.keys(e._storage).forEach(function(e){if(e.charCodeAt(0)===36){e=e.substring(1)}else{e=+e}t.set(e,e)});e._storage=null}};Object.defineProperty(t.prototype,"size",{configurable:true,enumerable:false,get:function(){if(typeof this._storage==="undefined"){throw new TypeError("size method called on incompatible Set")}n(this);return this["[[SetData]]"].size}});p(t.prototype,{has:function(e){var t;if(this._storage&&(t=F(e))!==null){return!!this._storage[t]}n(this);return this["[[SetData]]"].has(e)},add:function(e){var t;if(this._storage&&(t=F(e))!==null){this._storage[t]=true;return}n(this);return this["[[SetData]]"].set(e,e)},"delete":function(e){var t;if(this._storage&&(t=F(e))!==null){delete this._storage[t];return}n(this);return this["[[SetData]]"]["delete"](e)},clear:function(){if(this._storage){this._storage=z();return}return this["[[SetData]]"].clear()},keys:function(){n(this);return this["[[SetData]]"].keys()},values:function(){n(this);return this["[[SetData]]"].values()},entries:function(){n(this);return this["[[SetData]]"].entries()},forEach:function(e){var t=arguments.length>1?arguments[1]:null;var r=this;n(this);this["[[SetData]]"].forEach(function(n,a){e.call(t,a,a,r)})}});g(t.prototype,function(){return this.values()});return t}()};p(i,D);if(i.Map||i.Set){if(typeof i.Map.prototype.clear!=="function"||(new i.Set).size!==0||(new i.Map).size!==0||typeof i.Map.prototype.keys!=="function"||typeof i.Set.prototype.keys!=="function"||typeof i.Map.prototype.forEach!=="function"||typeof i.Set.prototype.forEach!=="function"||t(i.Map)||t(i.Set)||!r(i.Map,function(e){return new e([])instanceof e})){i.Map=D.Map;i.Set=D.Set}}g(Object.getPrototypeOf((new i.Map).keys()));g(Object.getPrototypeOf((new i.Set).keys()))}};if(typeof define==="function"&&define.amd){define(i)}else{i()}})();
//# sourceMappingURL=es6-shim.map